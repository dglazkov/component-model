<html>
<head>
    <link rel=stylesheet type=text/css href=../css/spec.css>
</head>
<body>

<!-- ==================== -->

<div class="head"> 
    <h1><span class="secno">7</span> Rendering of the Component Model</h1>
    <p>Draft Version</p>
        
    <p class="copyright">© Copyright 2011
    <p class="copyright">You are granted a license to use, reproduce and create derivative works of this document.
</div> 

<!-- ==================== -->

<h2 class="no-num no-toc">Status</h2> 

<p class="warning">This is a work-in-progress!</p>

<!-- ==================== -->

<h2><span class="secno">7.1</span> Rendering</h2> 

<h3><span class="secno">7.1.1</span> Host element</h3>
<p>The <span>host element</span> is rendered as normal, including all applicable styles for the element.</p>

<h3><span class="secno">7.1.2</span> Children of the <span>host element</span></h3>
<p>Any content of the <span>host element</span> MUST NOT be rendered directly.
Instead, such content will be rendered as determined by <code><a href="content.html">content</a></code> elements inside the shadow tree associated with the <span>host element</span>.</p>
<p>In place of rendering the content of the <span>host element</span>, the shadow tree rooted in the <code><a href="shadowroot.html">ShadowRoot</a></code> node associated with the <span>host element</span> is rendered.</p>

<h3><span class="secno">7.1.3</span> The <code><a href="shadowroot.html">ShadowRoot</a></code> node</h3>
<p>The <code><a href="shadowroot.html">ShadowRoot</a></code> node itself MUST NOT be rendered.</p>

<h3><span class="secno">7.1.4</span> Descendants of the <code><a href="shadowroot.html">ShadowRoot</a></code> node</h3>
<p>Descendants of the <code><a href="shadowroot.html">ShadowRoot</a></code> node are rendered as normal, with the exception of <code><a href="content.html">content</a></code> elements.
<p>Also, styles and style rules declared for the DOM tree the <span>host element</span> resides in are by default NOT applicable to nodes in the shadow tree.</p>

<h3><span class="secno">7.1.5</span> <code><a href="content.html">content</a></code> elements</h3>
<p><code><a href="content.html">content</a></code> elements are NOT rendered.
In their place the child nodes of the <span>host element</span> selected by the <code><a href="content.html">content</a></code> element is rendered.
In case no child node of the <span>host element</span> is selected by the <code><a href="content.html">content</a></code> element,
the fallback content of the <code><a href="content.html">content</a></code> element (if any) is rendered instead.</p>

<!-- ==================== -->

<h2><span class="secno">7.2</span> Examples</h2> 

<p>For example, to replicate the <code><a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#the-details-element">details</a></code> element, the following shadow tree might be used:</p>
<pre class="example">
#ShadowRoot
    &lt;div style="display: inline-block;"&gt;
        &lt;div id="summary-line"&gt;
            &lt;span id="expansion-triangle"&gt;▶&lt;/span&gt;&amp;nbsp;&lt;content select="summary::first-of-type"&gt;
        &lt;/div&gt;
        &lt;div id="explanation" style="display: none;"&gt;
            &lt;content&gt;
        &lt;/div&gt;
    &lt;/div&gt;
</pre>

The following HTML:

<pre class="html">
&lt;details&gt;
    Initial text
    &lt;summary&gt;Frobnoz&lt;/summary&gt;
    &lt;div style="background-color: mauve"&gt;
        Foo!
    &lt;/div&gt;
    &lt;summary&gt;Mxyzptlk&lt;/summary&gt;
    Exitus
&lt;/details&gt;
</pre>

would result in the following equivalent tree for rendering:

<pre class="html">
&lt;details&gt;
    &lt;div style="display: inline-block;"&gt;
        &lt;div id="summary-line"&gt;
            &lt;span id="expansion-triangle"&gt;▶&lt;/span&gt;&amp;nbsp;&lt;summary&gt;Frobnoz&lt;/summary&gt;
        &lt;/div&gt;
        &lt;div id="explanation" style="display: none;"&gt;
            Initial text
            &lt;summary&gt;Frobnoz&lt;/summary&gt;
            &lt;div style="background-color: mauve"&gt;
                Foo!
            &lt;/div&gt;
            &lt;summary&gt;Mxyzptlk&lt;/summary&gt;
            Exitus
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/details&gt;
</pre>

<!-- ==================== -->

</body>
</html>

